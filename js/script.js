"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var SpeechRecognizer=function(){var e=e||webkitSpeechRecognition,t=new e,n=document.getElementById("paper"),r=void 0,i=function(e){e=e||"en-US",o(e),t.interimResults=!0,l(),t.addEventListener("result",u),t.addEventListener("end",d)},a=function(){t.addEventListener("end",d),t.start()},c=function(){t.removeEventListener("end",d),t.stop()},o=function(e){t.stop(),t.lang=e},s=function(e){return[].concat(_toConsumableArray(e)).map(function(e){return e[0].transcript}).join("")},u=function(e){e.results&&(r.innerHTML=s(e.results))},d=function(e){l(),t.start()},l=function(){g(),r=document.createElement("p"),r.classList.add("paragraph"),n.appendChild(r)},g=function(){var e=[].concat(_toConsumableArray(document.querySelectorAll(".paragraph"))),t=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var o=a.value;0==o.innerHTML.length&&n.removeChild(o)}}catch(e){r=!0,i=e}finally{try{!t&&c.return&&c.return()}finally{if(r)throw i}}};return{init:i,start:a,stop:c,setLanguage:o,reset:function(){n.innerHTML="",l()}}}(),$start=document.getElementById("start"),$stop=document.getElementById("stop"),$reset=document.getElementById("reset"),$eng=document.getElementById("lang_eng"),$pl=document.getElementById("lang_pl");$start.addEventListener("click",SpeechRecognizer.start),$stop.addEventListener("click",SpeechRecognizer.stop),$reset.addEventListener("click",SpeechRecognizer.reset),$pl.addEventListener("click",function(){SpeechRecognizer.setLanguage("pl-PL")}),$eng.addEventListener("click",function(){SpeechRecognizer.setLanguage("en-US")}),SpeechRecognizer.init("en-US");